<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>파이썬 선택 시스템 | MeliPlug.info</title><link rel=stylesheet href=/css/main.min.dd299ae9aca3ef1adacbcd0db7623e358bc8b8bfbc132a24b64a73c672e33532.css integrity="sha256-3Sma6ayj7xray80Nt2I+NYvIuL+8EyoktkpzxnLjNTI=" crossorigin=anonymous><link rel=stylesheet href=/css/code.min.29bfd3b9f622c1a0c8f584f6791fa51fc9fd6808577e6ca258969c1aac25c8cc.css integrity="sha256-Kb/TufYiwaDI9YT2eR+lH8n9aAhXfmyiWJacGqwlyMw=" crossorigin=anonymous><script src=/js/main.60b2d451228917c6833af597c59d5dbb7d06ba49d1510e6fddb2dd850dd14179.js integrity="sha256-YLLUUSKJF8aDOvWXxZ1du30GuknRUQ5v3bLdhQ3RQXk=" crossorigin=anonymous></script></head><body><header><img src=/logo-1.svg alt id=logo><div class=menu-bar><nav><ul><li><a href=/>[Home]</a></li><li><a href=/ideas/>[Ideas]</a></li><li><a aria-current=true class=ancestor href=/posts/>[Posts]</a></li><li><a href=/projects/>[Projects]</a></li></ul></nav><div class=menu-buttons><span role=button id=color-btn></span>
<span role=button id=theme-btn></span></div></div></header><div id=main><aside id=left-aside></aside><aside id=right-aside><div id=toc-anchor></div></aside><main><h1>파이썬 선택 시스템</h1><div class=post_archived><span class=post_archived_label>[ ARCHIVED ]</span><ul class=post_archived_description><li>더 이상 관심사가 아닌 경우</li><li>현재와 다른 내용인 경우</li><li>현재 관리되고 있지 않은 경우</li></ul></div><div class=tags><div>Tags:</div><ul><li><a href=/tags/python/>#Python</a></li></ul></div>Created: <time datetime=2021-10-02T00:00:00+00:00>2021 Oct 2 - 00:00:00</time><br><hr><div id=content><h2 id=미리보기><a href=#%eb%af%b8%eb%a6%ac%eb%b3%b4%ea%b8%b0>미리보기</a></h2><p><img src=https://user-images.githubusercontent.com/83404333/135720320-3bab0122-4472-4bb4-95d5-e8f46ad91b41.gif alt=pyselect>{: .r}</p><p>이런식으로 선택지 중 하나를 선택해서 키보드를 누르면 <code>Enter</code>{: .key}를 누를필요 없이 즉시 가능합니다.</p><h2 id=만들기><a href=#%eb%a7%8c%eb%93%a4%ea%b8%b0>만들기</a></h2><p>코드</p><p><a href=https://gist.github.com/ywbook/76256756e63cd4d76818a1c3dd382dbe target=_blank rel="noopener noreferrer" class=external>Gist 링크<svg width="20" height="20" viewBox="0 0 24 24"><g fill="none"><path d="m12.593 23.258-.011.002-.071.035-.02.004-.014-.004-.071-.035q-.016-.005-.024.005l-.004.01-.017.428.005.02.01.013.104.074.015.004.012-.004.104-.074.012-.016.004-.017-.017-.427q-.004-.016-.017-.018m.265-.113-.013.002-.185.093-.01.01-.003.011.018.43.005.012.008.007.201.093q.019.005.029-.008l.004-.014-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02.0 00-.027.006l-.006.014-.034.614q.001.018.017.024l.015-.002.201-.093.01-.008.004-.011.017-.43-.003-.012-.01-.01z"/><path fill="currentColor" d="M11 6a1 1 0 110 2H5v11h11v-6a1 1 0 112 0v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2zm9-3a1 1 0 011 1v5a1 1 0 11-2 0V6.414l-8.293 8.293a1 1 0 01-1.414-1.414L17.586 5H15a1 1 0 110-2z"/></g></svg></a>
{:target="_blank"}</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># pyselect.py</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>msvcrt</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>select</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>option</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>text</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>string</span> <span class=o>+=</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>x</span><span class=si>}</span><span class=se>\n</span><span class=s1>&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>option_text</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>choice</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>option</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>option_text</span> <span class=o>+=</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>(</span><span class=si>{</span><span class=n>option</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span><span class=si>}</span><span class=s1>) </span><span class=si>{</span><span class=n>option</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=mi>1</span><span class=p>]</span><span class=si>}</span><span class=se>\n</span><span class=s1>&#39;</span>
</span></span><span class=line><span class=cl>        <span class=n>choice</span> <span class=o>+=</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>option</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span><span class=si>}</span><span class=s1>&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>input_text</span> <span class=o>=</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>choice[</span><span class=si>{</span><span class=n>choice</span><span class=si>}</span><span class=s1>]&gt;&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=o>+</span><span class=n>string</span><span class=p>,</span> <span class=n>option_text</span><span class=p>,</span> <span class=n>input_text</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>key</span> <span class=o>=</span> <span class=n>msvcrt</span><span class=o>.</span><span class=n>getch</span><span class=p>()</span><span class=o>.</span><span class=n>decode</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>key</span> <span class=o>!=</span> <span class=s1>&#39;0&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>key</span> <span class=ow>in</span> <span class=nb>list</span><span class=p>(</span><span class=n>choice</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=n>key</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>pass</span>
</span></span><span class=line><span class=cl>        <span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>text</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;text 1&#39;</span><span class=p>,</span> <span class=s1>&#39;text 2&#39;</span><span class=p>,</span> <span class=s1>&#39;text 3&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>option</span> <span class=o>=</span> <span class=p>[[</span><span class=s1>&#39;y&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-1&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;n&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-2&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;1&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-2&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=p>[</span><span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-2&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;3&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-2&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;q&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-2&#39;</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>select</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>option</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#by [ywbook.github.io]</span>
</span></span></code></pre></div><h3 id=인풋><a href=#%ec%9d%b8%ed%92%8b>인풋</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>select</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>option</span><span class=p>)</span>
</span></span></code></pre></div><p>여기서 인풋은 텍스트와 옵션으로 나뉘여져있습니다.</p><h4 id=텍스트><a href=#%ed%85%8d%ec%8a%a4%ed%8a%b8>텍스트</a></h4><p>텍스트는 리스트 형식으로 리스트 각 요소마다 한 줄이 됩니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>text</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;text 1&#39;</span><span class=p>,</span> <span class=s1>&#39;text 2&#39;</span><span class=p>,</span> <span class=s1>&#39;text 3&#39;</span><span class=p>]</span>
</span></span></code></pre></div><p>이렇게 설정하면 나오는 텍스트는 다음과 같다</p><pre tabindex=0><code>text 1
text 2
text 3
</code></pre><h4 id=옵션><a href=#%ec%98%b5%ec%85%98>옵션</a></h4><p>옵션은 리스트 내부의 리스트 형식이다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>option</span> <span class=o>=</span> <span class=p>[[</span><span class=s1>&#39;y&#39;</span><span class=p>,</span> <span class=s1>&#39;text 1&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;n&#39;</span><span class=p>,</span> <span class=s1>&#39;text 2&#39;</span><span class=p>]]</span>
</span></span></code></pre></div><p>위와 같이 설정하면 다음과 같이 나온다.</p><pre tabindex=0><code>(y) text 1

(n) text 2
</code></pre><p>리스트 내부의 리스트에서 첫 번째 요소는 키값(무조건 한글자!) 두 번째 요소는 표시 값이다.</p><p><img src=https://user-images.githubusercontent.com/83404333/135714208-fa85a66f-d468-4ea3-8438-0637b1b53468.png alt=option>{: .r}</p><p>이런 느낌?</p><blockquote><p>옵션 부분을 딕셔너리를 이용할 수 있지만 함수 쓰고 귀찮아서.. ㅎ</p></blockquote><h3 id=해석><a href=#%ed%95%b4%ec%84%9d>해석</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># pyselect.py</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>msvcrt</span>
</span></span></code></pre></div><p>모듈 <code>msvcrt</code> 는 &ldquo;MS VC++ 런타임의 유용한 루틴&rdquo; 라고 합니다.
이 프로젝트에서는 키보드 인풋을 받기위한 모듈이라고 생각하면 됩니다.</p><hr><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>select</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>option</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>text</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>string</span> <span class=o>+=</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>x</span><span class=si>}</span><span class=se>\n</span><span class=s1>&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>option_text</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>choice</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>option</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>option_text</span> <span class=o>+=</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>(</span><span class=si>{</span><span class=n>option</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span><span class=si>}</span><span class=s1>) </span><span class=si>{</span><span class=n>option</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=mi>1</span><span class=p>]</span><span class=si>}</span><span class=se>\n</span><span class=s1>&#39;</span>
</span></span><span class=line><span class=cl>        <span class=n>choice</span> <span class=o>+=</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>option</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span><span class=si>}</span><span class=s1>&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>input_text</span> <span class=o>=</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>choice[</span><span class=si>{</span><span class=n>choice</span><span class=si>}</span><span class=s1>]&gt;&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=o>+</span><span class=n>string</span><span class=p>,</span> <span class=n>option_text</span><span class=p>,</span> <span class=n>input_text</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span></code></pre></div><p>이 부분은 텍스트와 옵션을 텍스트 형태로 변환시켜준후 프린트하는 부분입니다.</p><hr><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>key</span> <span class=o>=</span> <span class=n>msvcrt</span><span class=o>.</span><span class=n>getch</span><span class=p>()</span><span class=o>.</span><span class=n>decode</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>key</span> <span class=o>!=</span> <span class=s1>&#39;0&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>key</span> <span class=ow>in</span> <span class=nb>list</span><span class=p>(</span><span class=n>choice</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>key</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>pass</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span></code></pre></div><p>이 부분은 키보드 인풋을 받는 부분이다.
msvcrt 의 <code>getch()</code>함수를 통해서 인풋을 받는다.
<code>decode()</code>함수를 이용해서 키보드 인풋을 이용해 텍스트로 변환한다.
만약 변환한 글자가 <code>option</code>의 키보드 값중에 있을경우 그 값을 반환한다.</p><hr><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>text</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;text 1&#39;</span><span class=p>,</span> <span class=s1>&#39;text 2&#39;</span><span class=p>,</span> <span class=s1>&#39;text 3&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>option</span> <span class=o>=</span> <span class=p>[[</span><span class=s1>&#39;y&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-1&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;n&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-2&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;1&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-2&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=p>[</span><span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-2&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;3&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-2&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;q&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-2&#39;</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>select</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>option</span><span class=p>))</span>
</span></span></code></pre></div><p>이 부분은 이 파일을 모듈로 사용하지 않을 경우에 실행하게 만든 부분.
실행경우 <a href=#%eb%af%b8%eb%a6%ac%eb%b3%b4%ea%b8%b0 class=internal>미리보기</a>
에 나왔던 코드가 나온다.</p><h2 id=모듈로-사용하기><a href=#%eb%aa%a8%eb%93%88%eb%a1%9c-%ec%82%ac%ec%9a%a9%ed%95%98%ea%b8%b0>모듈로 사용하기</a></h2><p>코드 맨 윗줄에 다음과 같은 코드로 임포트 하면 된다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pyselect</span>
</span></span></code></pre></div><p>그 후 사용할 때는 다음과 같이 사용할 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>text</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;text 1&#39;</span><span class=p>,</span> <span class=s1>&#39;text 2&#39;</span><span class=p>,</span> <span class=s1>&#39;text 3&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>option</span> <span class=o>=</span> <span class=p>[[</span><span class=s1>&#39;y&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-1&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;n&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-2&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;1&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-2&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>          <span class=p>[</span><span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-2&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;3&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-2&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;q&#39;</span><span class=p>,</span> <span class=s1>&#39;banana-2&#39;</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=n>ans</span> <span class=o>=</span> <span class=n>pyselect</span><span class=o>.</span><span class=n>select</span><span class=p>()</span>
</span></span></code></pre></div><h2 id=마무리><a href=#%eb%a7%88%eb%ac%b4%eb%a6%ac>마무리</a></h2><p>이상으로 <strong>{{ page.title }}</strong> 포스팅을 마치겠습니다.
긴 글 읽어주셔서 감사합니다.</p></div></main></div><footer><p>&copy;2021-2026 doi, ywbird.</p></footer></body></html>